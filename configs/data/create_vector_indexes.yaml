# Vector Search Config
# Environment-specific parameters (catalog, schema, endpoint name) are provided via notebook widgets

# Vector search endpoint
endpoint:
  type: STANDARD

# Embedding model configuration
embedding:
  model_endpoint: databricks-bge-large-en

indexes:
  knowledge_base:
    name: knowledge_base_index
    source_table: knowledge_base
    pipeline_type: TRIGGERED
    primary_key: kb_id
    embedding_source_column: formatted_content
    description: Vector search index for knowledge base articles, policies, FAQs, and guides
    columns_to_sync:
      - kb_id          
      - content         
      - title           
      - category        
      - subcategory     
      - content_type    
      - tags            
      - last_updated    
    test_queries:
      - unexpected charges on my bill
      - how to cancel service
      - international roaming fees

  support_tickets:
    name: support_tickets_index
    source_table: support_tickets
    pipeline_type: TRIGGERED
    primary_key: ticket_id
    embedding_source_column: formatted_content
    description: Vector search index for historical support tickets
    columns_to_sync:
      - ticket_id       
      - description    
      - customer_id    
      - category       
      - priority        
      - status         
      - resolution      
      - created_date   
      - resolved_date   
      - agent_id        
    test_queries:
      - phone won't connect to network
      - iPhone setup failed
      - can't make calls

  cache:
    name: agent_cache_index
    source_table: agent_cache
    pipeline_type: TRIGGERED
    primary_key: cache_id
    embedding_source_column: formatted_content
    description: Vector search index for caching agent responses
    columns_to_sync:
      - cache_id
      - query
      - response
      - agent_type
      - customer_segment
      - hit_count
      - last_hit_time
      - created_time
    test_queries:
      - how do I change my billing address
      - internet is not working
      - cancel my subscription

# timeouts (in minutes)
timeouts:
  endpoint_creation: 10
  index_sync: 15
  status_check_interval: 0.5  # 30 seconds